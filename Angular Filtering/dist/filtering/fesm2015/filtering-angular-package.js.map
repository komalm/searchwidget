{"version":3,"file":"filtering-angular-package.js","sources":["../../../projects/filtering/src/lib/Functions/api.ts","../../../projects/filtering/src/lib/filtering.component.ts","../../../projects/filtering/src/lib/components/filters-component/filters-component.component.ts","../../../projects/filtering/src/lib/components/cards-component/cards-component.component.ts","../../../projects/filtering/src/lib/Functions/Service_Functions.ts","../../../projects/filtering/src/lib/components/wrapper/wrapper.component.ts","../../../projects/filtering/src/lib/filtering.module.ts","../../../projects/filtering/src/public-api.ts","../../../projects/filtering/src/filtering-angular-package.ts"],"sourcesContent":["import { apiProps } from '../Interfaces/Service_Function_Interfaces';\r\n\r\nexport const fetchData = async ({\r\n  headers,\r\n  body,\r\n  url,\r\n  method,\r\n  cache,\r\n}: apiProps): Promise<any> => {\r\n  const response = await fetch(url, {\r\n    headers: headers,\r\n    body: body,\r\n    method: method === undefined || method === null ? 'GET' : method,\r\n    cache: cache,\r\n  });\r\n  if (!response.ok) {\r\n    throw new Error('Something went wrong!');\r\n  }\r\n\r\n  return response.json();\r\n};\r\n","import { Component, Input, OnInit } from '@angular/core';\nimport { fetchData } from './Functions/api';\n\n@Component({\n  selector: 'lib-filtering',\n  templateUrl: './filtering.component.html',\n})\nexport class FilteringComponent implements OnInit {\n  constructor() {}\n  @Input() hostname: string = 'https://www.diksha.gov.in';\n  @Input() AddtionalFilterConfig: Array<{\n    name: string;\n    field: string;\n    isEnabled: boolean;\n  }> = [];\n  @Input() FilterConfig: Array<{\n    name: string;\n    field: string;\n    isEnabled: boolean;\n  }> = [];\n  @Input() CardsFieldsObject: {\n    name?: {\n      field: string;\n    };\n    type?: {\n      field: string;\n    };\n    tags?: {\n      TagsFieldArray: Array<string>;\n    };\n    image?: {\n      field: string;\n    };\n    publisher?: {\n      field: string;\n    };\n    subject?: {\n      field: string;\n    };\n  } = {};\n  @Input() FormAPI: {\n    url: string;\n    headers?: object;\n    method: string;\n    body?: string;\n    cache?:\n      | 'default'\n      | 'no-store'\n      | 'reload'\n      | 'force-cache'\n      | 'only-if-cached'\n      | 'no-cache';\n  } = {\n    url: '',\n    headers: {},\n    method: '',\n    body: '',\n    cache: 'default',\n  };\n  @Input() SearchAPI: {\n    url: string;\n    headers?: object;\n    method: string;\n    body?: string;\n    cache?:\n      | 'default'\n      | 'no-store'\n      | 'reload'\n      | 'force-cache'\n      | 'only-if-cached'\n      | 'no-cache';\n  } = {\n    url: '',\n    headers: {},\n    method: '',\n    body: '',\n    cache: 'default',\n  };\n  @Input() TermsAPI: {\n    url: string;\n    headers?: object;\n    method: string;\n    body?: string;\n    cache?:\n      | 'default'\n      | 'no-store'\n      | 'reload'\n      | 'force-cache'\n      | 'only-if-cached'\n      | 'no-cache';\n  } = {\n    url: '',\n    headers: {},\n    method: '',\n    body: '',\n    cache: 'default',\n  };\n  @Input() GetDefaultChannel: {\n    url: string;\n    headers?: object;\n    method: string;\n    body?: string;\n    cache?:\n      | 'default'\n      | 'no-store'\n      | 'reload'\n      | 'force-cache'\n      | 'only-if-cached'\n      | 'no-cache';\n  } = {\n    url: '',\n    headers: {},\n    method: '',\n    body: '',\n    cache: 'default',\n  };\n  @Input() GetChannelAPI: {\n    headers?: object;\n    method: string;\n    body?: string;\n    cache?:\n      | 'default'\n      | 'no-store'\n      | 'reload'\n      | 'force-cache'\n      | 'only-if-cached'\n      | 'no-cache';\n  } = {\n    headers: {},\n    method: '',\n    body: '',\n    cache: 'default',\n  };\n  Frameworks: any;\n  private DefaultChannelID: string = '';\n  ngOnInit(): void {\n    fetchData({\n      url: this.GetDefaultChannel.url,\n      method: this.GetDefaultChannel.method,\n      headers: this.GetDefaultChannel.headers,\n      cache: this.GetDefaultChannel.cache\n        ? this.GetDefaultChannel.cache\n        : 'default',\n    })\n      .then((res) => {\n        this.DefaultChannelID = res.result.response.value;\n        this.GetChannelFrameworks();\n      })\n      .catch((err) => {\n        console.log(err.message);\n      });\n  }\n  GetChannelFrameworks() {\n    fetchData({\n      url: `${this.hostname}/api/channel/v1/read/${this.DefaultChannelID}`,\n      method: this.GetChannelAPI.method,\n      headers: this.GetChannelAPI.headers,\n      cache: this.GetDefaultChannel.cache\n        ? this.GetDefaultChannel.cache\n        : 'default',\n    })\n      .then((res) => {\n        this.Frameworks = res.result.channel.frameworks;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n}\n","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\nimport { FiltersArraySelectedOptionObject } from '../../Interfaces/interfaces';\n\n@Component({\n  selector: 'lib-filters-component',\n  templateUrl: './filters-component.component.html',\n  styleUrls: ['./filters-component.component.css'],\n})\nexport class FiltersComponentComponent implements OnInit {\n  Show: string = '';\n  @Input() Data: string = '';\n  @Output() FiltersArrayEvent = new EventEmitter<\n    Array<FiltersArraySelectedOptionObject>\n  >();\n  @Output() AddFilterNumberEvent = new EventEmitter<Array<number>>();\n  FiltersArray: Array<FiltersArraySelectedOptionObject> = [];\n  Selected: Array<FiltersArraySelectedOptionObject> = [];\n  AddFilterNumber: Array<number> = [0];\n\n  @Input() Name: string = '';\n  @Input() OptionValue: Array<string> = [];\n  @Input() FilterConfig: Array<any> = [];\n  @Input() AddtionalFilterConfig: Array<any> = [];\n  @Input() AllFiltersArray: Array<any> = [];\n\n  OptionOb: Array<{ name: string; Options: boolean }> = [];\n\n  getOptionStatus(a: string) {\n    const idx = this.OptionOb.findIndex(\n      (obj) => obj.name.toLowerCase() === a.toLowerCase()\n    );\n    return this.OptionOb[idx]?.Options;\n  }\n  OptionsShow(a: string) {\n    const index = this.OptionOb.findIndex(\n      (obj) => obj.name.toLowerCase() === a.toLowerCase()\n    );\n    if (index !== -1) {\n      this.OptionOb[index].Options = !this.OptionOb[index].Options;\n    }\n    return this.OptionOb[index].Options ? this.OptionOb[index].Options : false;\n  }\n\n  isSelected(optionName: string) {\n    let flag = true;\n    this.FiltersArray.map((item) => {\n      if (\n        item.name.toLowerCase() === optionName.toLowerCase() &&\n        item.value.length !== 0\n      ) {\n        flag = false;\n      }\n    });\n    return flag;\n  }\n\n  CheckIfOptionPresent(optionName: string, option: string) {\n    let flag = false;\n    this.FiltersArray.map((item) => {\n      if (\n        item.name.toLowerCase() === optionName.toLowerCase() &&\n        item.value.includes(option)\n      ) {\n        flag = true;\n      }\n    });\n    return flag;\n  }\n\n  CheckIfOptionPresentNew(optionName: string) {\n    let flag = false;\n    this.FiltersArray?.map((item) => {\n      if (item.name.toLowerCase() === optionName.toLowerCase()) {\n        flag = true;\n      }\n    });\n    return flag;\n  }\n\n  OptionNamePresent(optionName: string, itemarg: any) {\n    let flag = false;\n    this.FiltersArray?.map((item) => {\n      if (\n        item.name.toLowerCase() === optionName.toLowerCase() &&\n        item.name.toLowerCase() === itemarg.name.toLowerCase()\n      ) {\n        flag = true;\n      }\n    });\n    return flag;\n  }\n\n  Reset() {\n    this.FiltersArray = [];\n  }\n  Check: any = [];\n  IsSingleSelect(OptionName: string) {\n    let flag = false;\n    this.FilterConfig.map((item) => {\n      console.log(item);\n      if (item.name.toLowerCase() === OptionName.toLowerCase()) {\n        if (item.SelectType === 'single') {\n          flag = true;\n        }\n      }\n    });\n    return flag;\n  }\n\n  addFilter(OptionName: string, OptionValue: string) {\n    if (this.CheckIfOptionPresentNew(OptionName)) {\n      this.FiltersArray?.map((item) => {\n        if (this.OptionNamePresent(OptionName, item)) {\n          if (item.value.includes(OptionValue)) {\n            const newarr = item.value;\n            const indexofOption = item.value.indexOf(OptionValue);\n            newarr.splice(indexofOption, 1);\n            item.value = newarr;\n            return;\n          }\n          if (!item.value.includes(OptionValue)) {\n            let oldArr = item.value;\n            oldArr.push(OptionValue);\n            item.value = oldArr;\n          }\n        }\n      });\n    } else {\n      this.FiltersArray = [\n        ...this.FiltersArray,\n        { name: OptionName, value: [OptionValue] },\n      ];\n    }\n    const lastIdx = this.AddFilterNumber.length;\n    this.AddFilterNumber.push(this.AddFilterNumber[lastIdx - 1] + 1);\n    this.AddFilterNumberEvent.emit(this.AddFilterNumber);\n    this.Check = [...this.Check, ...this.FiltersArray];\n    this.FiltersArrayEvent.emit(this.FiltersArray);\n  }\n\n  OptionShowHide() {\n    let arr: Array<{ name: string; Options: boolean }> = [];\n    if (this.FilterConfig.length !== 0) {\n      this.FilterConfig.map((item) => {\n        arr.push({\n          name: item.name,\n          Options: false,\n        });\n      });\n    }\n    if (this.AddtionalFilterConfig.length !== 0) {\n      this.AddtionalFilterConfig.map((item) => {\n        if (item.isEnabled)\n          arr.push({\n            name: item.name,\n            Options: false,\n          });\n      });\n    }\n    this.OptionOb = arr;\n  }\n\n  ngOnInit(): void {\n    this.OptionShowHide();\n  }\n}\n","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\n\n@Component({\n  selector: 'lib-cards-component',\n  templateUrl: './cards-component.component.html',\n  styleUrls: ['./cards-component.component.css'],\n})\nexport class CardsComponentComponent implements OnInit {\n  @Input() name: string = '';\n  @Input() type: string = '';\n  @Input() tags: Array<string> = [''];\n  @Input() image: string = '';\n  @Input() subject: string = '';\n  @Input() publisher: string = '';\n\n  constructor() {}\n\n  ngOnInit() {}\n\n  ngAfterViewInit(): void {}\n}\n","import {\r\n  ServiceFunctionCardProps,\r\n  FilterDataExtractProps,\r\n  RenderContentProps,\r\n  UpdateConfigProps,\r\n} from '../Interfaces/Service_Function_Interfaces';\r\nexport function UpdateConfig({\r\n  apiData,\r\n  addtionalFilterConfig,\r\n  filterConfig,\r\n}: UpdateConfigProps) {\r\n  let TempData = apiData;\r\n  if (filterConfig?.length !== 0) {\r\n    filterConfig?.map((item) => {\r\n      const ItemName = item.name;\r\n      const ItemField = item.field;\r\n      const ItemIsEnabled =\r\n        item.isEnabled !== undefined ? item.isEnabled : true;\r\n      TempData[0].data.PrimaryFields[ItemName] = {\r\n        field: ItemField,\r\n        isEnabled: ItemIsEnabled,\r\n      };\r\n    });\r\n  }\r\n  if (addtionalFilterConfig?.length !== 0) {\r\n    addtionalFilterConfig?.map((item) => {\r\n      const ItemName = item.name;\r\n      const ItemField = item.field;\r\n      const ItemIsEnabled =\r\n        item.isEnabled !== undefined ? item.isEnabled : true;\r\n      TempData[0].data.additionalFields[ItemName] = {\r\n        displayName: ItemName,\r\n        field: ItemField,\r\n        isEnabled: ItemIsEnabled,\r\n      };\r\n    });\r\n  }\r\n  // setFilterConfig(TempData);\r\n  return TempData;\r\n}\r\n\r\nfunction isEnabled(filterConfig: any, itemName: string) {\r\n  let isEnable = true;\r\n  const Keys = Object.keys(filterConfig);\r\n  Keys.map((item) => {\r\n    if (item.toLowerCase() === itemName.toLowerCase()) {\r\n      isEnable = filterConfig[item].isEnabled;\r\n    }\r\n  });\r\n  return isEnable;\r\n}\r\n\r\nexport function FilterDataExtract({\r\n  content,\r\n  filterConfig,\r\n  TermsObject,\r\n}: FilterDataExtractProps) {\r\n  const AddtionalFieldsObject = filterConfig[0]?.data.additionalFields;\r\n\r\n  const FilterConfigObject = {\r\n    ...AddtionalFieldsObject,\r\n  };\r\n  let OptionNameArray: any = [];\r\n  let OptionValueArray: any = [];\r\n  if (filterConfig.length !== 0) {\r\n    const AddtionalKeys = Object.keys(filterConfig[0]?.data.additionalFields);\r\n    OptionNameArray = [...AddtionalKeys];\r\n    OptionNameArray?.map((item: any) => {\r\n      if (isEnabled(FilterConfigObject, item)) {\r\n        let temp: any;\r\n        if (TermsObject.hasOwnProperty(item)) {\r\n          temp = TermsObject[item];\r\n        } else {\r\n          let fieldName = AddtionalFieldsObject[item]?.field;\r\n\r\n          temp = new Set('');\r\n\r\n          if (fieldName !== null || fieldName !== undefined) {\r\n            content.map((item: any) => {\r\n              if (item[fieldName] !== null || item[fieldName] !== undefined) {\r\n                if (Array.isArray(item[fieldName])) {\r\n                  item[fieldName].map((ele: string) => {\r\n                    temp.add(ele);\r\n                  });\r\n                } else {\r\n                  temp.add(item[fieldName]);\r\n                }\r\n              }\r\n            });\r\n          }\r\n        }\r\n        if (Array.isArray(temp)) {\r\n          if (temp.length !== 0)\r\n            OptionValueArray.push({\r\n              name: item,\r\n              terms: temp.sort(),\r\n            });\r\n        } else {\r\n          const val = Array.from(temp);\r\n          val.splice(val.length - 1, 1);\r\n          if (val.length !== 0)\r\n            OptionValueArray.push({\r\n              name: item,\r\n              terms: val.sort(),\r\n            });\r\n        }\r\n      }\r\n    });\r\n  }\r\n  return {\r\n    OptionNameArray,\r\n    OptionValueArray,\r\n  };\r\n}\r\n\r\nexport function RenderContentFunction({\r\n  content,\r\n  filtersSelected,\r\n  filterConfig,\r\n}: RenderContentProps) {\r\n  const AddtionalFieldsObject = filterConfig[0]?.data.additionalFields;\r\n  const FilterConfigObject = {\r\n    ...AddtionalFieldsObject,\r\n  };\r\n  const keys = Object.keys(FilterConfigObject);\r\n  let contentArray: Array<any> = [];\r\n  const tempContent = content;\r\n  filtersSelected?.map((item: any) => {\r\n    const itemName = item.name;\r\n    const filterSelectedArray = item.value;\r\n    const fieldKey = keys.filter((item) => {\r\n      return item.toLowerCase() === itemName?.toLowerCase();\r\n    });\r\n    const fieldObj = FilterConfigObject[fieldKey[0]];\r\n    const field = fieldObj?.field;\r\n    tempContent?.map((item: any) => {\r\n      if (item[field] !== undefined) {\r\n        filterSelectedArray.map((ele: any) => {\r\n          if (item[field].includes(ele)) {\r\n            contentArray.push(item);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  });\r\n  return contentArray;\r\n}\r\n\r\nfunction isArray(item: any) {\r\n  if (Array.isArray(item)) {\r\n    return item[0];\r\n  } else {\r\n    return item;\r\n  }\r\n}\r\n\r\nexport function CardFieldsRender(item: any, CardFieldsObject: any) {\r\n  const FieldKeys = Object.keys(CardFieldsObject);\r\n  let ObjectReturn: ServiceFunctionCardProps = {};\r\n  let tagsArray: Array<string> = [];\r\n  FieldKeys.map((Field: string) => {\r\n    if (item.hasOwnProperty(CardFieldsObject[Field].field)) {\r\n      ObjectReturn[Field as keyof ServiceFunctionCardProps] = isArray(\r\n        item[CardFieldsObject[Field].field]\r\n      );\r\n    }\r\n    if (Field === 'tags') {\r\n      const TagsFieldsArray = CardFieldsObject[Field].TagsFieldArray;\r\n      TagsFieldsArray.map((tagField: string) => {\r\n        if (item.hasOwnProperty(tagField))\r\n          tagsArray.push(isArray(item[tagField]));\r\n      });\r\n    }\r\n  });\r\n  ObjectReturn['tags'] = tagsArray;\r\n  return ObjectReturn;\r\n}\r\n\r\nexport function TermsFetch(\r\n  data: any,\r\n  // setMasterFieldsTerms: Function,\r\n  FilterConfig?: any\r\n) {\r\n  const Categories = data.result.framework.categories;\r\n  const TermsObject: any = {};\r\n  Categories.map((item: any) => {\r\n    const name = item.name;\r\n    if (FilterConfig[0].data.PrimaryFields[name]?.isEnabled) {\r\n      const associations = item.terms[0].associations\r\n        ? item.terms[0].associations\r\n        : item.terms;\r\n      associations.map((item: any) => {\r\n        if (TermsObject.hasOwnProperty(item.category)) {\r\n          let tempArr = TermsObject[item.category as keyof any].terms;\r\n          tempArr.push(item.name);\r\n          const newSet = new Set(tempArr);\r\n          TermsObject[item.category as keyof any].terms = Array.from(newSet);\r\n        } else {\r\n          TermsObject[item.category as keyof any] = {\r\n            name: item.category,\r\n            terms: [item.name],\r\n          };\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return [TermsObject];\r\n}\r\n\r\nexport function MasterFieldContentChange(\r\n  filtersArray: any,\r\n  filterConfig: any,\r\n  body: string\r\n) {\r\n  const bodyJSON = JSON.parse(body);\r\n  const TempObj: any = {};\r\n\r\n  filtersArray.map((item: any) => {\r\n    const itemName = item.name.toLowerCase();\r\n    const configfiled = filterConfig.filter((fil: any) => {\r\n      return fil.name.toLowerCase() === itemName;\r\n    });\r\n    TempObj[configfiled[0]?.field] = item.value;\r\n  });\r\n  const keys = Object.keys(bodyJSON.request.filters);\r\n  keys.map((item: any) => {\r\n    if (TempObj[item] !== undefined) {\r\n      bodyJSON.request.filters[item] = TempObj[item];\r\n    }\r\n  });\r\n  return JSON.stringify(bodyJSON);\r\n}\r\n\r\nexport function DependentTermsFetch(\r\n  thing: any,\r\n  filters: any,\r\n  filterOptions: any\r\n) {\r\n  let obj: any = {};\r\n  thing.result.framework.categories?.map((item: any) => {\r\n    filters?.map((filter: any) => {\r\n      if (item.code.toLowerCase() === filter.name.toLowerCase()) {\r\n        const arr = filter.value;\r\n        item.terms.map((item: any) => {\r\n          if (arr.includes(item.name)) {\r\n            item.associations.map((item: any) => {\r\n              if (obj[item.category] === undefined) {\r\n                obj[item.category] = [item.name];\r\n              } else {\r\n                // Concatenate the existing values with the new item's name\r\n                const concatenatedValues = obj[item.category].concat(item.name);\r\n\r\n                // Convert the concatenated values into a Set to remove duplicates\r\n                const uniqueValuesSet = new Set(concatenatedValues);\r\n\r\n                // Convert the Set back into an array using Array.from()\r\n                const uniqueValuesArray = Array.from(uniqueValuesSet);\r\n\r\n                obj[item.category] = uniqueValuesArray.sort();\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  });\r\n  const Keys = Object.keys(filterOptions[0]);\r\n  Keys.map((item: any) => {\r\n    if (obj.hasOwnProperty(item)) {\r\n      filterOptions[0][item].terms = obj[item];\r\n    }\r\n  });\r\n  return filterOptions;\r\n}\r\n\r\nexport function FrameworksOptionsRender(Frameworks: Array<any>) {\r\n  let options: Array<string> = [];\r\n  Frameworks?.map((item: any) => {\r\n    options.push(item.name);\r\n  });\r\n  return options;\r\n}\r\n\r\nexport function GetFrameWorkID(Frameworks: Array<any>, Framework: string) {\r\n  let id: string = '';\r\n  Frameworks?.map((item: any) => {\r\n    if (item.name === Framework) {\r\n      id = item.identifier;\r\n    }\r\n  });\r\n  return id;\r\n}\r\n","import {\n  Component,\n  OnInit,\n  Input,\n  OnChanges,\n  SimpleChanges,\n} from '@angular/core';\nimport { fetchData } from '../../Functions/api';\nimport {\n  DependentTermsFetch,\n  FilterDataExtract,\n  FrameworksOptionsRender,\n  GetFrameWorkID,\n  MasterFieldContentChange,\n  RenderContentFunction,\n  TermsFetch,\n  UpdateConfig,\n} from '../../Functions/Service_Functions';\n\n@Component({\n  selector: 'app-wrapper',\n  templateUrl: './wrapper.component.html',\n  styleUrls: ['./wrapper.component.css'],\n})\nexport class WrapperComponent implements OnInit, OnChanges {\n  content: Array<{ [key: string]: any }> = [];\n  @Input() FilterConfig: Array<any> = [];\n  @Input() AddtionalFilterConfig: Array<any> = [];\n  ApiSettedFilterConfig: Array<any> = [];\n  FilterOptionsData: Array<{ [key: string]: any }> = [];\n  tags: Array<string> = [];\n  OriginalMasterKeys: Array<string> = [];\n  DependentTermsData: Array<object> = [];\n  MasterFields: Array<{ [key: string]: any }> = [];\n  MasterKeys: Array<string> = [];\n  CardDataObj: { [key: string]: any } = {};\n  CardsData: Array<object> = [];\n  PrevFilterAddNumber: Array<number> = [];\n  FrameworksOptionArray: Array<any> = [];\n  FilterOptionNameArray: Array<string> = [];\n  @Input() Change: number = 0;\n  @Input() FilterAddNumber: Array<number> = [];\n  @Input() FiltersArray: Array<any> = [];\n  @Input() Framework: string = '';\n  @Input() FrameworksArray: Array<any> = [];\n  @Input() hostname: string = '';\n  @Input() FormAPI: {\n    url: string;\n    headers?: object;\n    method: string;\n    body?: string;\n    cache?:\n      | 'default'\n      | 'no-store'\n      | 'reload'\n      | 'force-cache'\n      | 'only-if-cached'\n      | 'no-cache';\n  } = {\n    url: '',\n    headers: {},\n    method: '',\n    body: '',\n    cache: 'default',\n  };\n  @Input() CardsFieldConfig: { [key: string]: any } = {};\n  @Input() SearchAPI: {\n    url: string;\n    headers?: object;\n    method: string;\n    body?: string;\n    cache?:\n      | 'default'\n      | 'no-store'\n      | 'reload'\n      | 'force-cache'\n      | 'only-if-cached'\n      | 'no-cache';\n  } = {\n    url: '',\n    headers: {},\n    method: '',\n    body: '',\n    cache: 'default',\n  };\n  FilterBodySet: any = this.SearchAPI.body;\n  @Input() TermsAPI: {\n    url: string;\n    headers?: object;\n    method: string;\n    body?: string;\n    cache?:\n      | 'default'\n      | 'no-store'\n      | 'reload'\n      | 'force-cache'\n      | 'only-if-cached'\n      | 'no-cache';\n  } = {\n    url: '',\n    headers: {},\n    method: '',\n    body: '',\n    cache: 'default',\n  };\n\n  FetchAndUpdateFilterConfig() {\n    fetchData({\n      url: this.FormAPI.url,\n      cache: this.FormAPI.cache ? this.FormAPI.cache : 'default',\n      method: this.FormAPI.method,\n    })\n      .then((res: any) => {\n        this.ApiSettedFilterConfig = UpdateConfig({\n          apiData: res,\n          filterConfig: this.FilterConfig,\n          addtionalFilterConfig: this.AddtionalFilterConfig,\n        });\n      })\n      .catch((err: any) => {\n        console.log(err);\n      });\n    const FrameworkID =\n      this.Framework === ''\n        ? 'ekstep_ncert_k-12'\n        : GetFrameWorkID(this.FrameworksArray, this.Framework);\n    fetchData({\n      url: `${this.hostname}/api/content/v1/search?orgdetails=orgName,email&framework=${FrameworkID}`,\n      cache: this.SearchAPI.cache ? this.SearchAPI.cache : 'default',\n      method: this.SearchAPI.method,\n      body: this.SearchAPI.body,\n      headers: this.SearchAPI.headers,\n    })\n      .then((res) => {\n        this.content = res.result.content;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    fetchData({\n      url: `${this.hostname}/api/framework/v1/read/${FrameworkID}?categories=board,gradeLevel,medium,class,subject`,\n      cache: this.TermsAPI.cache ? this.TermsAPI.cache : 'default',\n      method: this.TermsAPI.method,\n      headers: this.TermsAPI.headers,\n    })\n      .then((res) => {\n        this.MasterFields = TermsFetch(res, this.ApiSettedFilterConfig);\n\n        this.MasterKeys = Object.keys(this.MasterFields[0]);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  DependentFieldsRender() {\n    const FrameworkID =\n      this.Framework === ''\n        ? 'ekstep_ncert_k-12'\n        : GetFrameWorkID(this.FrameworksArray, this.Framework);\n    fetchData({\n      url: `${this.hostname}/api/framework/v1/read/${FrameworkID}?categories=board,gradeLevel,medium,class,subject`,\n      cache: this.TermsAPI.cache ? this.TermsAPI.cache : 'default',\n      method: this.TermsAPI.method,\n      headers: this.TermsAPI.headers,\n    })\n      .then((res) => {\n        const data = DependentTermsFetch(\n          res,\n          this.FiltersArray,\n          this.MasterFields\n        );\n        this.DependentTermsData = data;\n        let flag = true;\n        this.FiltersArray?.map((item: any) => {\n          if (item?.value.length !== 0) {\n            flag = false;\n          }\n        });\n\n        if (flag) {\n          fetchData({\n            url: `${this.hostname}/api/framework/v1/read/${FrameworkID}?categories=board,gradeLevel,medium,class,subject`,\n            cache: this.TermsAPI.cache ? this.TermsAPI.cache : 'default',\n            method: this.TermsAPI.method,\n            headers: this.TermsAPI.headers,\n          })\n            .then((res) => {\n              this.MasterFields = TermsFetch(res, this.ApiSettedFilterConfig);\n\n              if (\n                typeof this.MasterFields[0] !== 'undefined' &&\n                typeof this.MasterFields[0] !== null\n              ) {\n                this.MasterKeys = Object.keys(this.MasterFields[0]);\n              }\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        } else {\n          this.MasterFields = this.DependentTermsData;\n          console.log('Terms', this.MasterFields);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  FrameWorksFetch() {\n    const FrameWorksOption = FrameworksOptionsRender(this.FrameworksArray);\n    this.FrameworksOptionArray = FrameWorksOption;\n  }\n\n  MasterBodyContentChange() {\n    this.FilterBodySet = MasterFieldContentChange(\n      this.AllFiltersArray !== undefined && this.AllFiltersArray.length !== 0\n        ? this.AllFiltersArray\n        : this.FiltersArray,\n      this.FilterConfig,\n      this.SearchAPI.body ? this.SearchAPI.body : ''\n    );\n  }\n\n  FiltersContentRender() {\n    this.MasterBodyContentChange();\n    const FrameworkID =\n      this.Framework === ''\n        ? 'ekstep_ncert_k-12'\n        : GetFrameWorkID(this.FrameworksArray, this.Framework);\n    fetchData({\n      url: `${\n        this.hostname\n      }/api/content/v1/search?orgdetails=orgName,email&framework=${\n        this.Framework === '' ? 'ekstep_ncert_k-12' : FrameworkID\n      }`,\n      cache: 'default',\n      method: this.SearchAPI.method,\n      body: this.FilterBodySet,\n      headers: this.SearchAPI.headers,\n    })\n      .then((res) => {\n        if (res.result.content !== undefined) {\n          this.content = res.result.content;\n          this.FilterDataRender();\n        } else if (res.result.QuestionSet !== undefined) {\n          this.content = res.result.QuestionSet;\n          this.FilterDataRender();\n        } else {\n          this.content = this.content;\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  FilterDataRender() {\n    const ReturnData = FilterDataExtract({\n      content: this.content,\n      filterConfig: this.ApiSettedFilterConfig,\n      TermsObject: this.AddtionalFilterConfig,\n    });\n    this.FilterOptionsData = ReturnData.OptionValueArray;\n\n    this.FilterOptionNameArray = ReturnData.OptionNameArray;\n    this.AllOptions.map((item: any) => {\n      if (this.FilterOptionNameArray.includes(item.name)) {\n        const idx = this.FilterOptionNameArray.indexOf(item.name);\n        item.terms = this.FilterOptionsData[idx].terms;\n      }\n    });\n    return ReturnData;\n  }\n  AddtionalContent: any;\n  RenderContentAddtionalFilter() {\n    this.AddtionalContent = RenderContentFunction({\n      content: this.content,\n      filtersSelected: this.FiltersArray,\n      filterConfig: this.ApiSettedFilterConfig,\n    });\n  }\n\n  AdditionalOptionValueReturn(Key: string) {\n    let valueArray: Array<string> = [];\n    this.FilterOptionsData.map((item: any) => {\n      if (Key.toLowerCase() === item.name.toLowerCase()) {\n        valueArray = item.value;\n      }\n    });\n    return valueArray;\n  }\n\n  CardsFieldCheck(field: string, item: any) {\n    if (field === 'tags' && this.CardsFieldConfig.hasOwnProperty(field)) {\n      const arr: Array<string> = [];\n      const tagsArray = this.CardsFieldConfig[field].TagsFieldArray;\n      tagsArray.map((key: any) => {\n        arr.push(item[key]);\n      });\n      return arr;\n    }\n    if (field === 'tags') {\n      return [];\n    }\n    if (this.CardsFieldConfig.hasOwnProperty(field)) {\n      const itemKey = this.CardsFieldConfig[field].field;\n      return item[itemKey];\n    }\n    return '';\n  }\n\n  constructor() {}\n  AllOptions: any = [];\n  ngOnInit(): void {\n    this.FetchAndUpdateFilterConfig();\n    this.RenderContentAddtionalFilter();\n    this.FrameWorksFetch();\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    this.FetchAndUpdateFilterConfig();\n    this.DependentFieldsRender();\n    this.FrameWorksFetch();\n    this.FiltersContentRender();\n\n    let MasterFieldsArray: Array<any> = [];\n    this.MasterKeys.map((item) => {\n      MasterFieldsArray.push(this.MasterFields[0][item]);\n    });\n    this.AllOptions = [\n      { name: 'Board', terms: this.FrameworksOptionArray },\n      ...MasterFieldsArray,\n      ...this.FilterOptionsData,\n    ];\n    this.RenderContentAddtionalFilter();\n  }\n\n  IsAddtionalFilter(Name: string) {\n    let flag = false;\n    this.AddtionalFilterConfig.map((item) => {\n      if (item.name.toLowerCase() === Name.toLowerCase()) {\n        flag = true;\n      }\n    });\n    return flag;\n  }\n\n  AllFiltersArray: any = [];\n\n  LOG(a: any) {\n    const ele = a[0];\n    if (ele.name === 'Board') {\n      this.Framework = ele.value.length === 0 ? 'CBSE' : ele.value[0];\n    }\n    let flag = true;\n    this.AllFiltersArray.map((item: any) => {\n      if (item.name === ele.name) {\n        flag = false;\n      }\n    });\n    if (flag) {\n      this.AllFiltersArray.push(ele);\n    } else {\n      this.AllFiltersArray.map((item: any) => {\n        if (ele.name === 'Board') {\n          if (item.name === 'Board') {\n            if (item.value[0] === ele.value[0]) {\n              item.value = [];\n            } else {\n              item.value = ele.value;\n            }\n          }\n        } else if (this.IsAddtionalFilter(ele.name)) {\n          const oldArr = item.value;\n          if (oldArr.includes(ele.value[0])) {\n            oldArr.splice(oldArr.indexOf(ele.value[0]), 1);\n            item.value = oldArr;\n          } else {\n            oldArr.push(ele.value[0]);\n            const uniqueElements = Array.from(new Set(oldArr));\n            item.value = uniqueElements;\n          }\n        }\n      });\n    }\n    // if (this.FrameworksOptionArray.includes(ele.value[0]) && this.AllFiltersArray.length!==0) {\n    //   // console.log(\"Yes\");\n    //   let oldArr = this.AllFiltersArray.filter((item: any) => {\n    //     return item.name.toLowerCase() !== ele.name.toLowerCase();\n    //   });\n    //   // console.log(\"old\",oldArr);\n    //   oldArr.push({ name: ele.name, value: [ele.value] });\n    //   this.AllFiltersArray = oldArr;\n    // }\n    // if(this.AllFiltersArray.length!==0){\n    //   this.AllFiltersArray.map((item:any)=>{\n    //     if(item.name==='Board'){\n    //     }\n    //   })\n    // }\n    this.FiltersArray = this.AllFiltersArray;\n    this.MasterBodyContentChange();\n    this.DependentFieldsRender();\n    this.FrameWorksFetch();\n    this.FiltersContentRender();\n    this.RenderContentAddtionalFilter();\n\n    let MasterFieldsArray: Array<any> = [];\n    this.MasterKeys.map((item) => {\n      MasterFieldsArray.push(this.MasterFields[0][item]);\n    });\n    this.AllOptions = [\n      { name: 'Board', terms: this.FrameworksOptionArray },\n      ...MasterFieldsArray,\n      ...this.FilterOptionsData,\n    ];\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { FilteringComponent } from './filtering.component';\nimport { FiltersComponentComponent } from './components/filters-component/filters-component.component';\nimport { CardsComponentComponent } from './components/cards-component/cards-component.component';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { CommonModule } from '@angular/common';\nimport { WrapperComponent } from './components/wrapper/wrapper.component';\n\n@NgModule({\n  declarations: [\n    FilteringComponent,\n    FiltersComponentComponent,\n    CardsComponentComponent,\n    WrapperComponent,\n  ],\n  imports: [BrowserModule, CommonModule],\n  exports: [\n    FilteringComponent,\n    FiltersComponentComponent,\n    CardsComponentComponent,\n    WrapperComponent,\n  ],\n})\nexport class FilteringModule {}\n","/*\n * Public API Surface of filtering\n */\nexport * from './lib/filtering.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {CardsComponentComponent as ɵc} from './lib/components/cards-component/cards-component.component';\nexport {FiltersComponentComponent as ɵb} from './lib/components/filters-component/filters-component.component';\nexport {WrapperComponent as ɵd} from './lib/components/wrapper/wrapper.component';\nexport {FilteringComponent as ɵa} from './lib/filtering.component';"],"names":[],"mappings":";;;;;AAEO,MAAM,SAAS,GAAG,CAAO,EAC9B,OAAO,EACP,IAAI,EACJ,GAAG,EACH,MAAM,EACN,KAAK,GACI;IACT,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;QAChC,OAAO,EAAE,OAAO;QAChB,IAAI,EAAE,IAAI;QACV,MAAM,EAAE,MAAM,KAAK,SAAS,IAAI,MAAM,KAAK,IAAI,GAAG,KAAK,GAAG,MAAM;QAChE,KAAK,EAAE,KAAK;KACb,CAAC,CAAC;IACH,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;QAChB,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;KAC1C;IAED,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;AACzB,CAAC,CAAA;;MCbY,kBAAkB;IAC7B;QACS,aAAQ,GAAW,2BAA2B,CAAC;QAC/C,0BAAqB,GAIzB,EAAE,CAAC;QACC,iBAAY,GAIhB,EAAE,CAAC;QACC,sBAAiB,GAmBtB,EAAE,CAAC;QACE,YAAO,GAYZ;YACF,GAAG,EAAE,EAAE;YACP,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,SAAS;SACjB,CAAC;QACO,cAAS,GAYd;YACF,GAAG,EAAE,EAAE;YACP,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,SAAS;SACjB,CAAC;QACO,aAAQ,GAYb;YACF,GAAG,EAAE,EAAE;YACP,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,SAAS;SACjB,CAAC;QACO,sBAAiB,GAYtB;YACF,GAAG,EAAE,EAAE;YACP,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,SAAS;SACjB,CAAC;QACO,kBAAa,GAWlB;YACF,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,SAAS;SACjB,CAAC;QAEM,qBAAgB,GAAW,EAAE,CAAC;KA9HtB;IA+HhB,QAAQ;QACN,SAAS,CAAC;YACR,GAAG,EAAE,IAAI,CAAC,iBAAiB,CAAC,GAAG;YAC/B,MAAM,EAAE,IAAI,CAAC,iBAAiB,CAAC,MAAM;YACrC,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,OAAO;YACvC,KAAK,EAAE,IAAI,CAAC,iBAAiB,CAAC,KAAK;kBAC/B,IAAI,CAAC,iBAAiB,CAAC,KAAK;kBAC5B,SAAS;SACd,CAAC;aACC,IAAI,CAAC,CAAC,GAAG;YACR,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC;YAClD,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B,CAAC;aACD,KAAK,CAAC,CAAC,GAAG;YACT,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;SAC1B,CAAC,CAAC;KACN;IACD,oBAAoB;QAClB,SAAS,CAAC;YACR,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,wBAAwB,IAAI,CAAC,gBAAgB,EAAE;YACpE,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,MAAM;YACjC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO;YACnC,KAAK,EAAE,IAAI,CAAC,iBAAiB,CAAC,KAAK;kBAC/B,IAAI,CAAC,iBAAiB,CAAC,KAAK;kBAC5B,SAAS;SACd,CAAC;aACC,IAAI,CAAC,CAAC,GAAG;YACR,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC;SACjD,CAAC;aACD,KAAK,CAAC,CAAC,GAAG;YACT,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAClB,CAAC,CAAC;KACN;;;YApKF,SAAS,SAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,mVAAyC;aAC1C;;;;uBAGE,KAAK;oCACL,KAAK;2BAKL,KAAK;gCAKL,KAAK;sBAoBL,KAAK;wBAmBL,KAAK;uBAmBL,KAAK;gCAmBL,KAAK;4BAmBL,KAAK;;;MC5GK,yBAAyB;IALtC;QAME,SAAI,GAAW,EAAE,CAAC;QACT,SAAI,GAAW,EAAE,CAAC;QACjB,sBAAiB,GAAG,IAAI,YAAY,EAE3C,CAAC;QACM,yBAAoB,GAAG,IAAI,YAAY,EAAiB,CAAC;QACnE,iBAAY,GAA4C,EAAE,CAAC;QAC3D,aAAQ,GAA4C,EAAE,CAAC;QACvD,oBAAe,GAAkB,CAAC,CAAC,CAAC,CAAC;QAE5B,SAAI,GAAW,EAAE,CAAC;QAClB,gBAAW,GAAkB,EAAE,CAAC;QAChC,iBAAY,GAAe,EAAE,CAAC;QAC9B,0BAAqB,GAAe,EAAE,CAAC;QACvC,oBAAe,GAAe,EAAE,CAAC;QAE1C,aAAQ,GAA8C,EAAE,CAAC;QAsEzD,UAAK,GAAQ,EAAE,CAAC;KAsEjB;IA1IC,eAAe,CAAC,CAAS;;QACvB,MAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CACjC,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC,WAAW,EAAE,CACpD,CAAC;QACF,aAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,0CAAE,OAAO,CAAC;KACpC;IACD,WAAW,CAAC,CAAS;QACnB,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CACnC,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC,WAAW,EAAE,CACpD,CAAC;QACF,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YAChB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC;SAC9D;QACD,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;KAC5E;IAED,UAAU,CAAC,UAAkB;QAC3B,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI;YACzB,IACE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,UAAU,CAAC,WAAW,EAAE;gBACpD,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EACvB;gBACA,IAAI,GAAG,KAAK,CAAC;aACd;SACF,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACb;IAED,oBAAoB,CAAC,UAAkB,EAAE,MAAc;QACrD,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI;YACzB,IACE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,UAAU,CAAC,WAAW,EAAE;gBACpD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,EAC3B;gBACA,IAAI,GAAG,IAAI,CAAC;aACb;SACF,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACb;IAED,uBAAuB,CAAC,UAAkB;;QACxC,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,MAAA,IAAI,CAAC,YAAY,0CAAE,GAAG,CAAC,CAAC,IAAI;YAC1B,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,UAAU,CAAC,WAAW,EAAE,EAAE;gBACxD,IAAI,GAAG,IAAI,CAAC;aACb;SACF,EAAE;QACH,OAAO,IAAI,CAAC;KACb;IAED,iBAAiB,CAAC,UAAkB,EAAE,OAAY;;QAChD,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,MAAA,IAAI,CAAC,YAAY,0CAAE,GAAG,CAAC,CAAC,IAAI;YAC1B,IACE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,UAAU,CAAC,WAAW,EAAE;gBACpD,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,EACtD;gBACA,IAAI,GAAG,IAAI,CAAC;aACb;SACF,EAAE;QACH,OAAO,IAAI,CAAC;KACb;IAED,KAAK;QACH,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;KACxB;IAED,cAAc,CAAC,UAAkB;QAC/B,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI;YACzB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,UAAU,CAAC,WAAW,EAAE,EAAE;gBACxD,IAAI,IAAI,CAAC,UAAU,KAAK,QAAQ,EAAE;oBAChC,IAAI,GAAG,IAAI,CAAC;iBACb;aACF;SACF,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACb;IAED,SAAS,CAAC,UAAkB,EAAE,WAAmB;;QAC/C,IAAI,IAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE;YAC5C,MAAA,IAAI,CAAC,YAAY,0CAAE,GAAG,CAAC,CAAC,IAAI;gBAC1B,IAAI,IAAI,CAAC,iBAAiB,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE;oBAC5C,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;wBACpC,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;wBAC1B,MAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;wBACtD,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;wBAChC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;wBACpB,OAAO;qBACR;oBACD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;wBACrC,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;wBACxB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBACzB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;qBACrB;iBACF;aACF,EAAE;SACJ;aAAM;YACL,IAAI,CAAC,YAAY,GAAG;gBAClB,GAAG,IAAI,CAAC,YAAY;gBACpB,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,WAAW,CAAC,EAAE;aAC3C,CAAC;SACH;QACD,MAAM,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;QAC5C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACrD,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;QACnD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAChD;IAED,cAAc;QACZ,IAAI,GAAG,GAA8C,EAAE,CAAC;QACxD,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;YAClC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI;gBACzB,GAAG,CAAC,IAAI,CAAC;oBACP,IAAI,EAAE,IAAI,CAAC,IAAI;oBACf,OAAO,EAAE,KAAK;iBACf,CAAC,CAAC;aACJ,CAAC,CAAC;SACJ;QACD,IAAI,IAAI,CAAC,qBAAqB,CAAC,MAAM,KAAK,CAAC,EAAE;YAC3C,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,IAAI;gBAClC,IAAI,IAAI,CAAC,SAAS;oBAChB,GAAG,CAAC,IAAI,CAAC;wBACP,IAAI,EAAE,IAAI,CAAC,IAAI;wBACf,OAAO,EAAE,KAAK;qBACf,CAAC,CAAC;aACN,CAAC,CAAC;SACJ;QACD,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;KACrB;IAED,QAAQ;QACN,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;;;YAjKF,SAAS,SAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,khDAAiD;;aAElD;;;mBAGE,KAAK;gCACL,MAAM;mCAGN,MAAM;mBAKN,KAAK;0BACL,KAAK;2BACL,KAAK;oCACL,KAAK;8BACL,KAAK;;;MChBK,uBAAuB;IAQlC;QAPS,SAAI,GAAW,EAAE,CAAC;QAClB,SAAI,GAAW,EAAE,CAAC;QAClB,SAAI,GAAkB,CAAC,EAAE,CAAC,CAAC;QAC3B,UAAK,GAAW,EAAE,CAAC;QACnB,YAAO,GAAW,EAAE,CAAC;QACrB,cAAS,GAAW,EAAE,CAAC;KAEhB;IAEhB,QAAQ,MAAK;IAEb,eAAe,MAAW;;;YAjB3B,SAAS,SAAC;gBACT,QAAQ,EAAE,qBAAqB;gBAC/B,oqCAA+C;;aAEhD;;;;mBAEE,KAAK;mBACL,KAAK;mBACL,KAAK;oBACL,KAAK;sBACL,KAAK;wBACL,KAAK;;;SCPQ,YAAY,CAAC,EAC3B,OAAO,EACP,qBAAqB,EACrB,YAAY,GACM;IAClB,IAAI,QAAQ,GAAG,OAAO,CAAC;IACvB,IAAI,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,MAAM,MAAK,CAAC,EAAE;QAC9B,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,GAAG,CAAC,CAAC,IAAI;YACrB,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;YAC3B,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;YAC7B,MAAM,aAAa,GACjB,IAAI,CAAC,SAAS,KAAK,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACvD,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,GAAG;gBACzC,KAAK,EAAE,SAAS;gBAChB,SAAS,EAAE,aAAa;aACzB,CAAC;SACH,EAAE;KACJ;IACD,IAAI,CAAA,qBAAqB,aAArB,qBAAqB,uBAArB,qBAAqB,CAAE,MAAM,MAAK,CAAC,EAAE;QACvC,qBAAqB,aAArB,qBAAqB,uBAArB,qBAAqB,CAAE,GAAG,CAAC,CAAC,IAAI;YAC9B,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;YAC3B,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;YAC7B,MAAM,aAAa,GACjB,IAAI,CAAC,SAAS,KAAK,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACvD,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG;gBAC5C,WAAW,EAAE,QAAQ;gBACrB,KAAK,EAAE,SAAS;gBAChB,SAAS,EAAE,aAAa;aACzB,CAAC;SACH,EAAE;KACJ;;IAED,OAAO,QAAQ,CAAC;AAClB,CAAC;AAED,SAAS,SAAS,CAAC,YAAiB,EAAE,QAAgB;IACpD,IAAI,QAAQ,GAAG,IAAI,CAAC;IACpB,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACvC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI;QACZ,IAAI,IAAI,CAAC,WAAW,EAAE,KAAK,QAAQ,CAAC,WAAW,EAAE,EAAE;YACjD,QAAQ,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC;SACzC;KACF,CAAC,CAAC;IACH,OAAO,QAAQ,CAAC;AAClB,CAAC;SAEe,iBAAiB,CAAC,EAChC,OAAO,EACP,YAAY,EACZ,WAAW,GACY;;IACvB,MAAM,qBAAqB,SAAG,YAAY,CAAC,CAAC,CAAC,0CAAE,IAAI,CAAC,gBAAgB,CAAC;IAErE,MAAM,kBAAkB,qBACnB,qBAAqB,CACzB,CAAC;IACF,IAAI,eAAe,GAAQ,EAAE,CAAC;IAC9B,IAAI,gBAAgB,GAAQ,EAAE,CAAC;IAC/B,IAAI,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;QAC7B,MAAM,aAAa,GAAG,MAAM,CAAC,IAAI,OAAC,YAAY,CAAC,CAAC,CAAC,0CAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC1E,eAAe,GAAG,CAAC,GAAG,aAAa,CAAC,CAAC;QACrC,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,GAAG,CAAC,CAAC,IAAS;;YAC7B,IAAI,SAAS,CAAC,kBAAkB,EAAE,IAAI,CAAC,EAAE;gBACvC,IAAI,IAAS,CAAC;gBACd,IAAI,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;oBACpC,IAAI,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC;iBAC1B;qBAAM;oBACL,IAAI,SAAS,SAAG,qBAAqB,CAAC,IAAI,CAAC,0CAAE,KAAK,CAAC;oBAEnD,IAAI,GAAG,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC;oBAEnB,IAAI,SAAS,KAAK,IAAI,IAAI,SAAS,KAAK,SAAS,EAAE;wBACjD,OAAO,CAAC,GAAG,CAAC,CAAC,IAAS;4BACpB,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,SAAS,EAAE;gCAC7D,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE;oCAClC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAW;wCAC9B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;qCACf,CAAC,CAAC;iCACJ;qCAAM;oCACL,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;iCAC3B;6BACF;yBACF,CAAC,CAAC;qBACJ;iBACF;gBACD,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;oBACvB,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC;wBACnB,gBAAgB,CAAC,IAAI,CAAC;4BACpB,IAAI,EAAE,IAAI;4BACV,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE;yBACnB,CAAC,CAAC;iBACN;qBAAM;oBACL,MAAM,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC7B,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC9B,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC;wBAClB,gBAAgB,CAAC,IAAI,CAAC;4BACpB,IAAI,EAAE,IAAI;4BACV,KAAK,EAAE,GAAG,CAAC,IAAI,EAAE;yBAClB,CAAC,CAAC;iBACN;aACF;SACF,EAAE;KACJ;IACD,OAAO;QACL,eAAe;QACf,gBAAgB;KACjB,CAAC;AACJ,CAAC;SAEe,qBAAqB,CAAC,EACpC,OAAO,EACP,eAAe,EACf,YAAY,GACO;;IACnB,MAAM,qBAAqB,SAAG,YAAY,CAAC,CAAC,CAAC,0CAAE,IAAI,CAAC,gBAAgB,CAAC;IACrE,MAAM,kBAAkB,qBACnB,qBAAqB,CACzB,CAAC;IACF,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;IAC7C,IAAI,YAAY,GAAe,EAAE,CAAC;IAClC,MAAM,WAAW,GAAG,OAAO,CAAC;IAC5B,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,GAAG,CAAC,CAAC,IAAS;QAC7B,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;QAC3B,MAAM,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC;QACvC,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI;YAChC,OAAO,IAAI,CAAC,WAAW,EAAE,MAAK,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,WAAW,GAAE,CAAC;SACvD,CAAC,CAAC;QACH,MAAM,QAAQ,GAAG,kBAAkB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,MAAM,KAAK,GAAG,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,KAAK,CAAC;QAC9B,WAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,GAAG,CAAC,CAAC,IAAS;YACzB,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,SAAS,EAAE;gBAC7B,mBAAmB,CAAC,GAAG,CAAC,CAAC,GAAQ;oBAC/B,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;wBAC7B,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBACzB;iBACF,CAAC,CAAC;aACJ;SACF,EAAE;KACJ,EAAE;IACH,OAAO,YAAY,CAAC;AACtB,CAAC;AAED,SAAS,OAAO,CAAC,IAAS;IACxB,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACvB,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC;KAChB;SAAM;QACL,OAAO,IAAI,CAAC;KACb;AACH,CAAC;SAEe,gBAAgB,CAAC,IAAS,EAAE,gBAAqB;IAC/D,MAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAChD,IAAI,YAAY,GAA6B,EAAE,CAAC;IAChD,IAAI,SAAS,GAAkB,EAAE,CAAC;IAClC,SAAS,CAAC,GAAG,CAAC,CAAC,KAAa;QAC1B,IAAI,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,EAAE;YACtD,YAAY,CAAC,KAAuC,CAAC,GAAG,OAAO,CAC7D,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CACpC,CAAC;SACH;QACD,IAAI,KAAK,KAAK,MAAM,EAAE;YACpB,MAAM,eAAe,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC;YAC/D,eAAe,CAAC,GAAG,CAAC,CAAC,QAAgB;gBACnC,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;oBAC/B,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;aAC3C,CAAC,CAAC;SACJ;KACF,CAAC,CAAC;IACH,YAAY,CAAC,MAAM,CAAC,GAAG,SAAS,CAAC;IACjC,OAAO,YAAY,CAAC;AACtB,CAAC;SAEe,UAAU,CACxB,IAAS;AACT;AACA,YAAkB;IAElB,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC;IACpD,MAAM,WAAW,GAAQ,EAAE,CAAC;IAC5B,UAAU,CAAC,GAAG,CAAC,CAAC,IAAS;;QACvB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,UAAI,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,0CAAE,SAAS,EAAE;YACvD,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY;kBAC3C,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY;kBAC1B,IAAI,CAAC,KAAK,CAAC;YACf,YAAY,CAAC,GAAG,CAAC,CAAC,IAAS;gBACzB,IAAI,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;oBAC7C,IAAI,OAAO,GAAG,WAAW,CAAC,IAAI,CAAC,QAAqB,CAAC,CAAC,KAAK,CAAC;oBAC5D,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACxB,MAAM,MAAM,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;oBAChC,WAAW,CAAC,IAAI,CAAC,QAAqB,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACpE;qBAAM;oBACL,WAAW,CAAC,IAAI,CAAC,QAAqB,CAAC,GAAG;wBACxC,IAAI,EAAE,IAAI,CAAC,QAAQ;wBACnB,KAAK,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC;qBACnB,CAAC;iBACH;aACF,CAAC,CAAC;SACJ;KACF,CAAC,CAAC;IACH,OAAO,CAAC,WAAW,CAAC,CAAC;AACvB,CAAC;SAEe,wBAAwB,CACtC,YAAiB,EACjB,YAAiB,EACjB,IAAY;IAEZ,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAClC,MAAM,OAAO,GAAQ,EAAE,CAAC;IAExB,YAAY,CAAC,GAAG,CAAC,CAAC,IAAS;;QACzB,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACzC,MAAM,WAAW,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,GAAQ;YAC/C,OAAO,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,QAAQ,CAAC;SAC5C,CAAC,CAAC;QACH,OAAO,OAAC,WAAW,CAAC,CAAC,CAAC,0CAAE,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;KAC7C,CAAC,CAAC;IACH,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IACnD,IAAI,CAAC,GAAG,CAAC,CAAC,IAAS;QACjB,IAAI,OAAO,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE;YAC/B,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;SAChD;KACF,CAAC,CAAC;IACH,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;AAClC,CAAC;SAEe,mBAAmB,CACjC,KAAU,EACV,OAAY,EACZ,aAAkB;;IAElB,IAAI,GAAG,GAAQ,EAAE,CAAC;IAClB,MAAA,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,0CAAE,GAAG,CAAC,CAAC,IAAS;QAC/C,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,GAAG,CAAC,CAAC,MAAW;YACvB,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE;gBACzD,MAAM,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC;gBACzB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAS;oBACvB,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;wBAC3B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,IAAS;4BAC9B,IAAI,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAE;gCACpC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;6BAClC;iCAAM;;gCAEL,MAAM,kBAAkB,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;gCAGhE,MAAM,eAAe,GAAG,IAAI,GAAG,CAAC,kBAAkB,CAAC,CAAC;;gCAGpD,MAAM,iBAAiB,GAAG,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gCAEtD,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,iBAAiB,CAAC,IAAI,EAAE,CAAC;6BAC/C;yBACF,CAAC,CAAC;qBACJ;iBACF,CAAC,CAAC;aACJ;SACF,EAAE;KACJ,EAAE;IACH,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3C,IAAI,CAAC,GAAG,CAAC,CAAC,IAAS;QACjB,IAAI,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;YAC5B,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;SAC1C;KACF,CAAC,CAAC;IACH,OAAO,aAAa,CAAC;AACvB,CAAC;SAEe,uBAAuB,CAAC,UAAsB;IAC5D,IAAI,OAAO,GAAkB,EAAE,CAAC;IAChC,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,GAAG,CAAC,CAAC,IAAS;QACxB,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACzB,EAAE;IACH,OAAO,OAAO,CAAC;AACjB,CAAC;SAEe,cAAc,CAAC,UAAsB,EAAE,SAAiB;IACtE,IAAI,EAAE,GAAW,EAAE,CAAC;IACpB,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,GAAG,CAAC,CAAC,IAAS;QACxB,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;YAC3B,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;SACtB;KACF,EAAE;IACH,OAAO,EAAE,CAAC;AACZ;;MC3Qa,gBAAgB;IAiS3B;QAhSA,YAAO,GAAkC,EAAE,CAAC;QACnC,iBAAY,GAAe,EAAE,CAAC;QAC9B,0BAAqB,GAAe,EAAE,CAAC;QAChD,0BAAqB,GAAe,EAAE,CAAC;QACvC,sBAAiB,GAAkC,EAAE,CAAC;QACtD,SAAI,GAAkB,EAAE,CAAC;QACzB,uBAAkB,GAAkB,EAAE,CAAC;QACvC,uBAAkB,GAAkB,EAAE,CAAC;QACvC,iBAAY,GAAkC,EAAE,CAAC;QACjD,eAAU,GAAkB,EAAE,CAAC;QAC/B,gBAAW,GAA2B,EAAE,CAAC;QACzC,cAAS,GAAkB,EAAE,CAAC;QAC9B,wBAAmB,GAAkB,EAAE,CAAC;QACxC,0BAAqB,GAAe,EAAE,CAAC;QACvC,0BAAqB,GAAkB,EAAE,CAAC;QACjC,WAAM,GAAW,CAAC,CAAC;QACnB,oBAAe,GAAkB,EAAE,CAAC;QACpC,iBAAY,GAAe,EAAE,CAAC;QAC9B,cAAS,GAAW,EAAE,CAAC;QACvB,oBAAe,GAAe,EAAE,CAAC;QACjC,aAAQ,GAAW,EAAE,CAAC;QACtB,YAAO,GAYZ;YACF,GAAG,EAAE,EAAE;YACP,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,SAAS;SACjB,CAAC;QACO,qBAAgB,GAA2B,EAAE,CAAC;QAC9C,cAAS,GAYd;YACF,GAAG,EAAE,EAAE;YACP,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,SAAS;SACjB,CAAC;QACF,kBAAa,GAAQ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;QAChC,aAAQ,GAYb;YACF,GAAG,EAAE,EAAE;YACP,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,SAAS;SACjB,CAAC;QAkNF,eAAU,GAAQ,EAAE,CAAC;QAkCrB,oBAAe,GAAQ,EAAE,CAAC;KAnCV;IA/MhB,0BAA0B;QACxB,SAAS,CAAC;YACR,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG;YACrB,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,SAAS;YAC1D,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM;SAC5B,CAAC;aACC,IAAI,CAAC,CAAC,GAAQ;YACb,IAAI,CAAC,qBAAqB,GAAG,YAAY,CAAC;gBACxC,OAAO,EAAE,GAAG;gBACZ,YAAY,EAAE,IAAI,CAAC,YAAY;gBAC/B,qBAAqB,EAAE,IAAI,CAAC,qBAAqB;aAClD,CAAC,CAAC;SACJ,CAAC;aACD,KAAK,CAAC,CAAC,GAAQ;YACd,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAClB,CAAC,CAAC;QACL,MAAM,WAAW,GACf,IAAI,CAAC,SAAS,KAAK,EAAE;cACjB,mBAAmB;cACnB,cAAc,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3D,SAAS,CAAC;YACR,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,6DAA6D,WAAW,EAAE;YAC/F,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,SAAS;YAC9D,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM;YAC7B,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI;YACzB,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO;SAChC,CAAC;aACC,IAAI,CAAC,CAAC,GAAG;YACR,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC;SACnC,CAAC;aACD,KAAK,CAAC,CAAC,GAAG;YACT,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAClB,CAAC,CAAC;QACL,SAAS,CAAC;YACR,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,0BAA0B,WAAW,mDAAmD;YAC7G,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,SAAS;YAC5D,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM;YAC5B,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO;SAC/B,CAAC;aACC,IAAI,CAAC,CAAC,GAAG;YACR,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC,GAAG,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;YAEhE,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;SACrD,CAAC;aACD,KAAK,CAAC,CAAC,GAAG;YACT,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAClB,CAAC,CAAC;KACN;IAED,qBAAqB;QACnB,MAAM,WAAW,GACf,IAAI,CAAC,SAAS,KAAK,EAAE;cACjB,mBAAmB;cACnB,cAAc,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3D,SAAS,CAAC;YACR,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,0BAA0B,WAAW,mDAAmD;YAC7G,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,SAAS;YAC5D,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM;YAC5B,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO;SAC/B,CAAC;aACC,IAAI,CAAC,CAAC,GAAG;;YACR,MAAM,IAAI,GAAG,mBAAmB,CAC9B,GAAG,EACH,IAAI,CAAC,YAAY,EACjB,IAAI,CAAC,YAAY,CAClB,CAAC;YACF,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;YAC/B,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,MAAA,IAAI,CAAC,YAAY,0CAAE,GAAG,CAAC,CAAC,IAAS;gBAC/B,IAAI,CAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,CAAC,MAAM,MAAK,CAAC,EAAE;oBAC5B,IAAI,GAAG,KAAK,CAAC;iBACd;aACF,EAAE;YAEH,IAAI,IAAI,EAAE;gBACR,SAAS,CAAC;oBACR,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,0BAA0B,WAAW,mDAAmD;oBAC7G,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,SAAS;oBAC5D,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM;oBAC5B,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO;iBAC/B,CAAC;qBACC,IAAI,CAAC,CAAC,GAAG;oBACR,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC,GAAG,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;oBAEhE,IACE,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,WAAW;wBAC3C,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,IAAI,EACpC;wBACA,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;qBACrD;iBACF,CAAC;qBACD,KAAK,CAAC,CAAC,GAAG;oBACT,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBAClB,CAAC,CAAC;aACN;iBAAM;gBACL,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC;gBAC5C,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;aACzC;SACF,CAAC;aACD,KAAK,CAAC,CAAC,GAAG;YACT,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAClB,CAAC,CAAC;KACN;IAED,eAAe;QACb,MAAM,gBAAgB,GAAG,uBAAuB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACvE,IAAI,CAAC,qBAAqB,GAAG,gBAAgB,CAAC;KAC/C;IAED,uBAAuB;QACrB,IAAI,CAAC,aAAa,GAAG,wBAAwB,CAC3C,IAAI,CAAC,eAAe,KAAK,SAAS,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,KAAK,CAAC;cACnE,IAAI,CAAC,eAAe;cACpB,IAAI,CAAC,YAAY,EACrB,IAAI,CAAC,YAAY,EACjB,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,EAAE,CAC/C,CAAC;KACH;IAED,oBAAoB;QAClB,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,MAAM,WAAW,GACf,IAAI,CAAC,SAAS,KAAK,EAAE;cACjB,mBAAmB;cACnB,cAAc,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3D,SAAS,CAAC;YACR,GAAG,EAAE,GACH,IAAI,CAAC,QACP,6DACE,IAAI,CAAC,SAAS,KAAK,EAAE,GAAG,mBAAmB,GAAG,WAChD,EAAE;YACF,KAAK,EAAE,SAAS;YAChB,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM;YAC7B,IAAI,EAAE,IAAI,CAAC,aAAa;YACxB,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO;SAChC,CAAC;aACC,IAAI,CAAC,CAAC,GAAG;YACR,IAAI,GAAG,CAAC,MAAM,CAAC,OAAO,KAAK,SAAS,EAAE;gBACpC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC;gBAClC,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;iBAAM,IAAI,GAAG,CAAC,MAAM,CAAC,WAAW,KAAK,SAAS,EAAE;gBAC/C,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC;gBACtC,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;iBAAM;gBACL,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;aAC7B;SACF,CAAC;aACD,KAAK,CAAC,CAAC,GAAG;YACT,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAClB,CAAC,CAAC;KACN;IAED,gBAAgB;QACd,MAAM,UAAU,GAAG,iBAAiB,CAAC;YACnC,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,YAAY,EAAE,IAAI,CAAC,qBAAqB;YACxC,WAAW,EAAE,IAAI,CAAC,qBAAqB;SACxC,CAAC,CAAC;QACH,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC,gBAAgB,CAAC;QAErD,IAAI,CAAC,qBAAqB,GAAG,UAAU,CAAC,eAAe,CAAC;QACxD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,IAAS;YAC5B,IAAI,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBAClD,MAAM,GAAG,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC1D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;aAChD;SACF,CAAC,CAAC;QACH,OAAO,UAAU,CAAC;KACnB;IAED,4BAA4B;QAC1B,IAAI,CAAC,gBAAgB,GAAG,qBAAqB,CAAC;YAC5C,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,eAAe,EAAE,IAAI,CAAC,YAAY;YAClC,YAAY,EAAE,IAAI,CAAC,qBAAqB;SACzC,CAAC,CAAC;KACJ;IAED,2BAA2B,CAAC,GAAW;QACrC,IAAI,UAAU,GAAkB,EAAE,CAAC;QACnC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAS;YACnC,IAAI,GAAG,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE;gBACjD,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC;aACzB;SACF,CAAC,CAAC;QACH,OAAO,UAAU,CAAC;KACnB;IAED,eAAe,CAAC,KAAa,EAAE,IAAS;QACtC,IAAI,KAAK,KAAK,MAAM,IAAI,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;YACnE,MAAM,GAAG,GAAkB,EAAE,CAAC;YAC9B,MAAM,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC;YAC9D,SAAS,CAAC,GAAG,CAAC,CAAC,GAAQ;gBACrB,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;aACrB,CAAC,CAAC;YACH,OAAO,GAAG,CAAC;SACZ;QACD,IAAI,KAAK,KAAK,MAAM,EAAE;YACpB,OAAO,EAAE,CAAC;SACX;QACD,IAAI,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;YAC/C,MAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;YACnD,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC;SACtB;QACD,OAAO,EAAE,CAAC;KACX;IAID,QAAQ;QACN,IAAI,CAAC,0BAA0B,EAAE,CAAC;QAClC,IAAI,CAAC,4BAA4B,EAAE,CAAC;QACpC,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;IACD,WAAW,CAAC,OAAsB;QAChC,IAAI,CAAC,0BAA0B,EAAE,CAAC;QAClC,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,IAAI,iBAAiB,GAAe,EAAE,CAAC;QACvC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI;YACvB,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;SACpD,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,GAAG;YAChB,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,qBAAqB,EAAE;YACpD,GAAG,iBAAiB;YACpB,GAAG,IAAI,CAAC,iBAAiB;SAC1B,CAAC;QACF,IAAI,CAAC,4BAA4B,EAAE,CAAC;KACrC;IAED,iBAAiB,CAAC,IAAY;QAC5B,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,IAAI;YAClC,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC,WAAW,EAAE,EAAE;gBAClD,IAAI,GAAG,IAAI,CAAC;aACb;SACF,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACb;IAID,GAAG,CAAC,CAAM;QACR,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,IAAI,GAAG,CAAC,IAAI,KAAK,OAAO,EAAE;YACxB,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,GAAG,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;SACjE;QACD,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,IAAS;YACjC,IAAI,IAAI,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI,EAAE;gBAC1B,IAAI,GAAG,KAAK,CAAC;aACd;SACF,CAAC,CAAC;QACH,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAChC;aAAM;YACL,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,IAAS;gBACjC,IAAI,GAAG,CAAC,IAAI,KAAK,OAAO,EAAE;oBACxB,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE;wBACzB,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;4BAClC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;yBACjB;6BAAM;4BACL,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;yBACxB;qBACF;iBACF;qBAAM,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;oBAC3C,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;oBAC1B,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;wBACjC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBAC/C,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;qBACrB;yBAAM;wBACL,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC1B,MAAM,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;wBACnD,IAAI,CAAC,KAAK,GAAG,cAAc,CAAC;qBAC7B;iBACF;aACF,CAAC,CAAC;SACJ;;;;;;;;;;;;;;;;QAgBD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC;QACzC,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,4BAA4B,EAAE,CAAC;QAEpC,IAAI,iBAAiB,GAAe,EAAE,CAAC;QACvC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI;YACvB,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;SACpD,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,GAAG;YAChB,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,qBAAqB,EAAE;YACpD,GAAG,iBAAiB;YACpB,GAAG,IAAI,CAAC,iBAAiB;SAC1B,CAAC;KACH;;;YA9YF,SAAS,SAAC;gBACT,QAAQ,EAAE,aAAa;gBACvB,8qDAAuC;;aAExC;;;;2BAGE,KAAK;oCACL,KAAK;qBAaL,KAAK;8BACL,KAAK;2BACL,KAAK;wBACL,KAAK;8BACL,KAAK;uBACL,KAAK;sBACL,KAAK;+BAmBL,KAAK;wBACL,KAAK;uBAoBL,KAAK;;;MC/DK,eAAe;;;YAf3B,QAAQ,SAAC;gBACR,YAAY,EAAE;oBACZ,kBAAkB;oBAClB,yBAAyB;oBACzB,uBAAuB;oBACvB,gBAAgB;iBACjB;gBACD,OAAO,EAAE,CAAC,aAAa,EAAE,YAAY,CAAC;gBACtC,OAAO,EAAE;oBACP,kBAAkB;oBAClB,yBAAyB;oBACzB,uBAAuB;oBACvB,gBAAgB;iBACjB;aACF;;;ACtBD;;;;ACAA;;;;;;"}